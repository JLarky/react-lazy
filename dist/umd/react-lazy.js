!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("prop-types"),require("react-dom"),require("react-dom/server")):"function"==typeof define&&define.amd?define(["react","prop-types","react-dom","react-dom/server"],t):"object"==typeof exports?exports.ReactLazy=t(require("react"),require("prop-types"),require("react-dom"),require("react-dom/server")):e.ReactLazy=t(e.React,e.PropTypes,e.ReactDOM,e.ReactDOMServer)}(this,function(e,t,n,o){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/build/",t(t.s=9)}([function(t,n){t.exports=e},function(e,t,n){"use strict";function o(e,t){var n=e.bottom+t,o=e.left-t,r=e.right+t,i=e.top-t;return{bottom:n,left:o,right:r,top:i,height:n-i,width:r-o}}function r(e,t){return!(!(e=e&&!e.nodeType?e[0]:e)||1!==e.nodeType)&&o(e.getBoundingClientRect(),t)}function i(){return{height:Math.max(document.documentElement.clientHeight,window.innerHeight),width:Math.max(document.documentElement.clientWidth,window.innerWidth)}}function l(e,t){var n=e.cushion,o=e.element;if(null===o.offsetParent)return!1;var i=r(o,n);return!!i&&i.bottom>=0&&i.right>=0&&i.top<t.height&&i.left<t.width}function u(e){l(e,i())&&!1!==e.callback()||(!s&&0===d.length&&window.addEventListener&&(window.addEventListener("resize",p,!1),window.addEventListener("scroll",p,!1),window.addEventListener("touchend",p,!1),s=!0),d.push(e))}function a(){s&&0===d.length&&window.removeEventListener&&(window.removeEventListener("resize",p,!1),window.removeEventListener("scroll",p,!1),window.removeEventListener("touchend",p,!1),s=!1)}function c(e){var t=d.indexOf(e);t>=0&&d.splice(t,1),a()}Object.defineProperty(t,"__esModule",{value:!0}),t.addElement=u,t.removeElement=c;var d=[],s=!1,p=t.checkElementsInViewport=function(e,t){var n;return function(){var o=!n;clearTimeout(n),n=setTimeout(function(t){n=null,e.apply(this,t)}.bind(this,arguments),t),o&&e.apply(this,arguments)}}(function(){if(0!==d.length){for(var e=i(),t=d.length-1;t>=0;t--)l(d[t],e)&&!1!==d[t].callback()&&d.splice(t,1);a()}},50)},function(e,n){e.exports=t},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":a(t))&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=n(0),s=o(d),p=n(8),f=n(2),h=o(f),y=n(1),b=n(7),m=function(e){function t(e){i(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={loadedAt:null},n.onViewport=n.onViewport.bind(n),n}return u(t,e),c(t,[{key:"componentDidMount",value:function(){this.options={callback:this.onViewport,cushion:this.props.cushion,element:(0,p.findDOMNode)(this)},(0,y.addElement)(this.options)}},{key:"componentWillReceiveProps",value:function(e){e.cushion!==this.props.cushion&&(this.options.cushion=e.cushion)}},{key:"componentWillUnmount",value:function(){(0,y.removeElement)(this.options),delete this.options}},{key:"onViewport",value:function(){var e=this.props,t=e.onLoad,n=e.onViewport;if(!e.visible)return!1;n&&n(),this.setState({loadedAt:Date.now()},t)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.component,o=e.ltIE9,i=e.visible,l=r(e,["children","component","ltIE9","visible"]);return delete l.cushion,delete l.onLoad,delete l.onViewport,i&&this.state.loadedAt?s.default.createElement(n,l,t):s.default.createElement(n,(0,b.propsWithNoScriptRender)(t,o,l))}}]),t}(s.default.PureComponent);m.defaultProps={component:"div",cushion:0,ltIE9:!1,visible:!0};var v=h.default.oneOfType([h.default.string,h.default.object,h.default.func]);m.propTypes={children:h.default.node,component:v,cushion:h.default.number,ltIE9:h.default.bool,onLoad:h.default.func,onViewport:h.default.func,visible:h.default.bool},t.default=m},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":c(t))&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":c(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function a(e){var t=e.childProps,n=e.children,o=e.isFailed,r=(e.isLoaded,u(e,["childProps","children","isFailed","isLoaded"]));return f.default.createElement("div",r,o?f.default.createElement(m.default,t):n)}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=n(0),f=o(p),h=n(2),y=o(h),b=n(6),m=o(b);a.propTypes={childProps:y.default.object.isRequired,isFailed:y.default.bool.isRequired,isLoaded:y.default.bool.isRequired};var v={calc:"rect(0 0 0 0)",height:"1px",opacity:"0.01",position:"absolute",width:"1px",zIndex:-1},w=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.children&&(e.children.props||e.children._store&&e.children._store.props)||{},l=o.onError,a=o.onLoad,c=u(o,["onError","onLoad"]);return n.childOnError=l,n.childOnLoad=a,n.childProps=c,n.state={isFailed:!1,isLoaded:!1},n.onError=n.onError.bind(n),n.onLoad=n.onLoad.bind(n),n}return l(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){if(e.children!==this.props.children){var t=e.children&&(e.children.props||e.children._store&&e.children._store.props)||{},n=t.onError,o=t.onLoad,r=u(t,["onError","onLoad"]);this.childOnError=n,this.childOnLoad=o,this.childProps=r}}},{key:"onError",value:function(e){this.setState({isFailed:!0},this.props.callback),this.childOnError&&this.childOnError(e)}},{key:"onLoad",value:function(e){this.setState({isLoaded:!0},this.props.callback),this.childOnLoad&&this.childOnLoad(e)}},{key:"render",value:function(){var e=this.props,t=(e.callback,e.children),n=e.wrapper,o=u(e,["callback","children","wrapper"]),r=f.default.Children.only(t);return f.default.createElement(n,d({},o,this.state,{childProps:this.childProps}),this.state.isFailed||this.state.isLoaded?r:f.default.createElement("span",{style:v},f.default.cloneElement(r,{onError:this.onError,onLoad:this.onLoad})))}}]),t}(f.default.PureComponent);w.defaultProps={wrapper:a},w.propTypes={callback:y.default.func,children:y.default.node.isRequired,wrapper:y.default.oneOfType([y.default.object,y.default.func])},t.default=w},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":a(t))&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=n(0),s=o(d),p=n(8),f=n(2),h=o(f),y=n(1),b=n(7),m=function(e){function t(e){i(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.loadedImgTags=0,n.state={imgTagCount:null,loadedAt:null,viewportAt:null},n.onImgLoaded=n.onImgLoaded.bind(n),n.onViewport=n.onViewport.bind(n),n}return u(t,e),c(t,[{key:"componentDidMount",value:function(){this.options={callback:this.onViewport,cushion:this.props.cushion,element:(0,p.findDOMNode)(this)},(0,y.addElement)(this.options)}},{key:"componentWillReceiveProps",value:function(e){e.cushion!==this.props.cushion&&(this.options.cushion=e.cushion)}},{key:"componentWillUnmount",value:function(){(0,y.removeElement)(this.options),delete this.options}},{key:"onImgLoaded",value:function(){++this.loadedImgTags===this.state.imgTagCount&&(this.loadedImgTags=0,this.setState({imgTagCount:null,loadedAt:Date.now()},this.props.onLoad))}},{key:"onViewport",value:function(){var e=this.props,t=e.children,n=e.childrenToWrap,o=e.onLoad,r=e.onViewport;if(!e.visible)return!1;var i=(0,b.countTypesTags)(n,t)||null;this.loadedImgTags=0,r&&r();var l=Date.now();this.setState({imgTagCount:i,loadedAt:i?null:l,viewportAt:l},i?null:o)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.childrenToWrap,o=e.childWrapper,i=e.component,l=e.ltIE9,u=e.visible,a=r(e,["children","childrenToWrap","childWrapper","component","ltIE9","visible"]);return delete a.cushion,delete a.onLoad,delete a.onViewport,s.default.createElement(i,a,u&&this.state.viewportAt?(0,b.wrapTypesToLazyChild)(n,t,o,this.onImgLoaded):(0,b.wrapTypesToNoScript)(n,t,l,o))}}]),t}(s.default.PureComponent);m.defaultProps={component:"div",childrenToWrap:["iframe","img"],cushion:0,ltIE9:!1,visible:!0};var v=h.default.oneOfType([h.default.string,h.default.object,h.default.func]);m.propTypes={children:h.default.node,childrenToWrap:h.default.arrayOf(v),childWrapper:v,component:v,cushion:h.default.number,ltIE9:h.default.bool,onLoad:h.default.func,onViewport:h.default.func,visible:h.default.bool},t.default=m},function(e,t,n){"use strict";function o(e){return l.default.createElement("img",r({alt:""},e,{src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEAAAAALAAAAAABAAEAAAI="}))}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=o;var i=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t?(c.default.Children.forEach(t,function(t){if(t&&t.type!==p.default&&t.type!==b.default&&t.type!==h.default)if(e.includes(t.type))n++;else{var o=t.props||t._store&&t._store.props||{};n+=r(e,o.children)}}),n):n}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.dangerouslySetInnerHTML=t?{__html:(0,d.renderToStaticMarkup)(c.default.createElement("noscript",null,e)).replace("<noscript>","\x3c!--[if IE 9]>\x3c!--\x3e<noscript>\x3c!--<![endif]--\x3e").replace("</noscript>","\x3c!--[if IE 9]>\x3c!--\x3e</noscript>\x3c!--<![endif]--\x3e")}:{__html:(0,d.renderToStaticMarkup)(c.default.createElement("noscript",null,e))},n}function l(e,t,n,o){return t?c.default.Children.map(t,function(t){if(t&&t.type!==p.default&&t.type!==b.default&&t.type!==h.default){if(e.includes(t.type))return c.default.createElement(h.default,{callback:o,children:t,wrapper:n});var r=t.props||t._store&&t._store.props||{},i=l(e,r.children,n,o);return i!==r.children?c.default.cloneElement(t,null,i):t}return t}):t}function u(e,t,n,o){return t?c.default.Children.map(t,function(t){if(t&&t.type!==p.default&&t.type!==b.default&&t.type!==h.default){if(e.includes(t.type))return c.default.createElement(o,i(t,n));var r=t.props||t._store&&t._store.props||{},l=u(e,r.children,n,o);return l!==r.children?c.default.cloneElement(t,null,l):t}return t}):t}Object.defineProperty(t,"__esModule",{value:!0}),t.countTypesTags=r,t.propsWithNoScriptRender=i,t.wrapTypesToLazyChild=l,t.wrapTypesToNoScript=u;var a=n(0),c=o(a),d=n(10),s=n(3),p=o(s),f=n(4),h=o(f),y=n(5),b=o(y)},function(e,t){e.exports=n},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TransparentPixel=t.Lazy=t.LazyGroup=t.LazyChild=t.checkElementsInViewport=void 0;var r=n(1);Object.defineProperty(t,"checkElementsInViewport",{enumerable:!0,get:function(){return r.checkElementsInViewport}});var i=n(4),l=o(i),u=n(5),a=o(u),c=n(3),d=o(c),s=n(6),p=o(s);t.LazyChild=l.default,t.LazyGroup=a.default,t.Lazy=d.default,t.TransparentPixel=p.default},function(e,t){e.exports=o}])});